// @ts-nocheck
!function(){const e=Array.from(document.querySelectorAll(".choice-btn"));e.forEach((t=>{t.addEventListener("click",(()=>{e.forEach((e=>{e.classList.remove("active"),e.setAttribute("aria-pressed","false")})),t.classList.add("active"),t.setAttribute("aria-pressed","true")}))}));const t=Array.from(document.querySelectorAll(".theme-swatch")),c=document.getElementById("theme-preview-img"),r=document.getElementById("theme-preview-wrap");function a(e){if(!e)return;t.forEach((e=>{e.classList.remove("active"),e.setAttribute("aria-pressed","false")})),e.classList.add("active"),e.setAttribute("aria-pressed","true");const a=e.querySelector("img");a&&a.src&&(c.src=a.src,c.alt=a.alt||"Selected theme",document.querySelector(".gift-form").dataset.selectedTheme=e.dataset.theme||"");try{r.animate([{opacity:.85},{opacity:1}],{duration:220})}catch(e){}}t.forEach(((e,t)=>{e.querySelector("img")||e.classList.add("empty"),e.addEventListener("click",(()=>a(e))),0!==t||document.querySelector(".theme-swatch.active")||a(e)})),window.getSelectedGiftTheme=()=>document.querySelector(".gift-form")?.dataset.selectedTheme||null;const o=document.getElementById("message"),i=document.getElementById("from"),s=document.getElementById("gift-next"),n=document.querySelector(".gift-form");function m(){const e=document.querySelector(".choice-btn.active");return e&&e.dataset.choice||"reveal"}s&&s.addEventListener("click",(function(){!function(){const e={type:"gift",message:o?.value?.trim()||"",fromName:i?.value?.trim()||"",revealMode:m(),theme:n?.dataset.selectedTheme||null};try{localStorage.setItem("giftConfig_v1",JSON.stringify(e))}catch(e){console.warn("Failed to save giftConfig_v1",e)}}()}))}();