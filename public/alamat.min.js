// @ts-nocheck
document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("form"),t="savedAddresses_v1";e.addEventListener("submit",(function(e){e.preventDefault();const a=(document.getElementById("address-label")?.value||"").trim()||"Other",n=(document.getElementById("recipient-name")?.value||"").trim(),r=(document.getElementById("phone-number")?.value||"").trim(),l=(document.getElementById("street-address")?.value||"").trim(),d=(document.getElementById("city")?.value||"").trim(),o=(document.getElementById("province")?.value||"").trim(),m=(document.getElementById("postal-code")?.value||"").trim(),s=document.getElementById("default-address"),i=!(!s||!s.checked);if(!n||!r||!l)return void alert("Isi Nama, No. Telepon, dan Alamat jalan minimal.");const u={label:a,name:n,phone:r,address:`${l}\n${d}${d&&o?", ":""}${o}\n${m}`,isDefault:!!i},c=function(){try{const e=localStorage.getItem(t);if(!e)return[];const a=JSON.parse(e);return Array.isArray(a)?a:[]}catch(e){return[]}}();c.length>=5?alert("Maksimum 5 alamat saja. Hapus salah satu jika ingin menambah lagi."):(u.isDefault&&c.forEach((e=>e.isDefault=!1)),c.push(u),function(e){try{localStorage.setItem(t,JSON.stringify(e))}catch(e){console.error("Failed to write addresses to localStorage",e)}}(c),window.location.href="drafamt.html")}))}));