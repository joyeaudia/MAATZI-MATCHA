<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Create Account</title>
  <link rel="stylesheet" href="singup.css" />
</head>

<body>
  <div class="sign-up-page">
    <div class="card">
      <h2>Create Account</h2>
      <form id="signup-form" onsubmit="return false;">
        <label for="fullname">Full Name</label>
        <input type="text" id="fullname" placeholder="Your full name" required />

        <label for="email">Email Address</label>
        <input type="email" id="email" placeholder="you@example.com" required />

        <label for="phone">Phone Number</label>
        <input type="tel" id="phone" placeholder="08xxxxxxxx" required />

        <label for="password">Password</label>
        <div class="password-wrapper">
          <input type="password" id="password" placeholder="********" required />
          <span class="toggle">üëÅÔ∏è</span>
        </div>

        <label for="confirm-password">Confirm Password</label>
        <div class="password-wrapper">
          <input type="password" id="confirm-password" placeholder="********" required />
          <span class="toggle">üëÅÔ∏è</span>
        </div>

        <!-- Tombol Create Account -->
        <button type="button" class="create-btn" id="createAccountBtn">Create Account</button>

        <p class="signin-text">
          Already have an account?
          <a href="singin.html">Sign In</a>
        </p>
      </form>
    </div>
  </div>

  <script>
    // üîπ Show / Hide password
    document.querySelectorAll('.toggle').forEach(icon => {
      icon.addEventListener('click', () => {
        const input = icon.previousElementSibling;
        input.type = input.type === 'password' ? 'text' : 'password';
        icon.textContent = input.type === 'password' ? 'üëÅÔ∏è' : 'üôà';
      });
    });

    // üîπ Create Account ‚Üí role "user" lalu ke Home
    document.getElementById("createAccountBtn").addEventListener("click", () => {
      const name = document.getElementById('fullname').value.trim();
      const email = document.getElementById('email').value.trim();
      const phone = document.getElementById('phone').value.trim();
      const pass = document.getElementById('password').value;
      const confirm = document.getElementById('confirm-password').value;

      if (!name || !email || !phone || !pass || !confirm) {
        alert('Lengkapi semua field dulu ya üôÇ');
        return;
      }

      if (pass !== confirm) {
        alert('Password dan konfirmasi tidak sama.');
        return;
      }

      // Simpan info dasar user di localStorage (sementara, sebelum Firebase)
      localStorage.setItem('maziRole', 'user');
      localStorage.setItem('maziEmail', email);
      localStorage.setItem('maziName', name);
      localStorage.setItem('maziPhone', phone);

      // Arahkan ke halaman utama user
      // Arahkan ke halaman isi alamat dulu// Arahkan ke halaman isi alamat dulu
window.location.href = "alamat.html?from=signup";


    });
  </script>
</body>

</html>
