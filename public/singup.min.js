// @ts-nocheck
function setupCustomAlert(){const e=document.getElementById("alertModal"),t=document.getElementById("alertText"),n=document.getElementById("alertClose");function a(){e&&(e.style.display="none")}return n&&n.addEventListener("click",a),e&&e.addEventListener("click",(t=>{t.target===e&&a()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&a()})),function(n){e&&t?(t.textContent=n,e.style.display="flex"):window.alert(n)}}const showAlert=setupCustomAlert();document.querySelectorAll(".toggle").forEach((e=>{e.addEventListener("click",(()=>{const t=e.previousElementSibling;if(!t)return;const n="password"===t.type;t.type=n?"text":"password",e.textContent=n?"ðŸ™ˆ":"ðŸ‘ï¸"}))}));const USERS_KEY="maziUsers_v1";function loadUsers(){try{return JSON.parse(localStorage.getItem(USERS_KEY))||[]}catch{return[]}}function saveUsers(e){localStorage.setItem(USERS_KEY,JSON.stringify(e||[]))}function validPassword(e){return/[a-z]/.test(e)&&/[A-Z]/.test(e)&&/\d/.test(e)&&/[^A-Za-z0-9]/.test(e)&&e.length>=8}const nameEl=document.getElementById("fullname"),emailEl=document.getElementById("email"),phoneEl=document.getElementById("phone"),passEl=document.getElementById("password"),confirmEl=document.getElementById("confirm-password"),submitBtn=document.getElementById("createAccountBtn");submitBtn.addEventListener("click",(()=>{const e=nameEl.value.trim(),t=emailEl.value.trim(),n=phoneEl.value.trim(),a=passEl.value,o=confirmEl.value;if(!(e&&t&&n&&a&&o))return void showAlert("Semua kolom wajib diisi ya ðŸ™‚");if(!validPassword(a))return void showAlert("Password harus minimal 8 karakter, ada huruf besar, huruf kecil, angka, dan simbol.");if(a!==o)return void showAlert("Password dan konfirmasinya tidak sama.");const l=loadUsers();if(l.some((e=>(e.email||"").toLowerCase()===t.toLowerCase()))){showAlert("Email ini sudah terdaftar. Silakan Sign In saja ya ðŸ™‚");const e=document.getElementById("alertModal"),t=document.getElementById("alertClose");if(t&&e){const n=()=>{e.style.display="none",t.removeEventListener("click",n),window.location.href="singin.html"};t.addEventListener("click",n)}return}l.push({email:t,password:a,name:e,phone:n}),saveUsers(l),localStorage.setItem("maziRole","user"),localStorage.setItem("maziEmail",t),localStorage.setItem("maziName",e),localStorage.setItem("maziPhone",n);const s=e.split(/\s+/),r={firstName:s[0]||"",lastName:s.slice(1).join(" "),email:t,phone:n,memberSince:(new Date).getFullYear()};localStorage.setItem("profile",JSON.stringify(r)),window.location.href="alamat.html?from=signup"}));