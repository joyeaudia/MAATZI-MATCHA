// @ts-nocheck
!function(){"use strict";function t(t){return"Rp "+new Intl.NumberFormat("id-ID").format(Number(t||0))}function e(t){return String(t||"").replace(/[&<>"']/g,(t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[t])))}function n(){return function(t){try{return JSON.parse(localStorage.getItem(t)||"[]")}catch(t){return[]}}("orders")}function i(){const t=n(),i=document.getElementById("tab-active");if(!i)return;if(i.innerHTML="",!t||!t.length)return void(i.innerHTML='<div style="padding:16px;color:#666">Belum ada pesanan.</div>');const d=t[0];if(!d||!Array.isArray(d.items)||!d.items.length)return void(i.innerHTML='<div style="padding:16px;color:#666">Order data tidak lengkap.</div>');const s=d.items[0],a=Math.max(0,d.items.length-1);let o="Products";const c=String(s.id||"").toLowerCase();c.startsWith("dsri")||c.startsWith("dessert")||c.includes("dessert")?o="Desserts":(c.startsWith("drsi")||c.startsWith("drink")||c.includes("drink"))&&(o="Drinks");const l=s.image?`<img src="${e(s.image)}" alt="${e(s.title)}" style="width:68px;height:68px;object-fit:cover;border-radius:8px">`:'<div class="thumb"></div>',u=document.createElement("article");u.className="order-card",u.innerHTML=`\n      <div class="thumb">${l}</div>\n      <div class="order-info">\n        <div class="order-top">\n          <h3 class="product-title">${e(s.title)}</h3>\n          <span class="more">${a>0?"+"+a+" More":""}</span>\n        </div>\n        <p class="brand">${e(o)}</p>\n        <div class="status-row">\n          <span class="status">Status : <strong>${e(d.status||"active")}</strong></span>\n          <span class="eta">Created : <em>${new Date(d.createdAt||Date.now()).toLocaleString()}</em></span>\n        </div>\n        <div class="order-actions">\n          <button class="btn-outline" data-order-id="${e(d.id)}">Track Order</button>\n          <button class="btn-light view-details" data-order-id="${e(d.id)}">View Details</button>\n        </div>\n      </div>\n    `,i.appendChild(u),i.querySelectorAll(".view-details").forEach((t=>{t.addEventListener("click",(function(){const t=this.dataset.orderId;t&&r(t)}))}))}function r(r){const d=n().find((t=>String(t.id)===String(r))),s=document.getElementById("tab-active");if(!s)return;if(!d)return void(s.innerHTML='<div style="padding:12px;color:#c33">Order tidak ditemukan.</div>');s.innerHTML="";const a=document.createElement("h2");a.textContent="Order Details",s.appendChild(a);const o=document.createElement("div");o.style.marginTop="12px",d.items.forEach((n=>{const i=document.createElement("div");i.className="order-item",i.style.padding="10px 0",i.innerHTML=`\n        <div style="display:flex;gap:12px;align-items:center">\n          <div style="width:56px;height:56px;border-radius:8px;overflow:hidden;background:#f5f5f7;flex:0 0 56px">\n            ${n.image?`<img src="${e(n.image)}" style="width:100%;height:100%;object-fit:cover">`:""}\n          </div>\n          <div style="flex:1">\n            <div style="font-weight:700">${e(n.title)}</div>\n            ${n.addons&&n.addons.length?`<div style="color:#666;margin-top:6px">${n.addons.map((t=>e(t.label))).join(", ")}</div>`:""}\n            <div style="color:#666;margin-top:6px">${n.qty} Ã— ${t(n.unitPrice)} = ${t(n.subtotal)}</div>\n          </div>\n        </div>\n      `,o.appendChild(i)}));const c=document.createElement("div");c.style.marginTop="14px",c.style.fontWeight="700",c.textContent="Total: "+t(d.total),s.appendChild(o),s.appendChild(c);const l=document.createElement("div");l.style.marginTop="12px",l.innerHTML='<button class="btn-light" id="back-to-summary">Back</button>',s.appendChild(l),l.querySelector("#back-to-summary").addEventListener("click",(function(){i()}))}document.addEventListener("DOMContentLoaded",(function(){try{i()}catch(t){console.error("renderOrdersList error",t)}})),window.renderOrdersList=i,window.renderOrderDetails=r}();