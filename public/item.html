<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Luxfleurid ‚Äî Bow Charm Ring</title>
  <link rel="stylesheet" href="item.css" />
  <style>
    /* Minimal styles for option buttons ‚Äî you can move these to item.css if preferred */
    .option-group { margin:14px 0; }
    .group-title { font-weight:700; margin-bottom:8px; color:#222; }
    .choices { display:flex; gap:8px; flex-wrap:wrap; }
    .opt-btn, .addon-btn {
      border:1px solid #e9e9e9;
      background:#fff;
      padding:8px 12px;
      border-radius:999px;
      cursor:pointer;
      font-size:14px;
      transition: all .14s ease;
    }
    .opt-btn[aria-pressed="true"], .addon-btn[aria-pressed="true"] {
      background:#1ea85e;
      color:#fff;
      border-color: rgba(0,0,0,0.06);
      box-shadow: 0 6px 18px rgba(30,168,94,0.12);
      transform: translateY(-1px);
    }
    .opt-btn:focus, .addon-btn:focus { outline:3px solid rgba(30,168,94,0.12); }
    .small-note { font-size:13px; color:#6f766e; margin-top:6px; }
    /* align actions row */
    .product-actions { display:flex; align-items:center; justify-content:space-between; gap:12px; margin-top:12px; }
    .right-icons { display:flex; gap:8px; align-items:center; }
    .add-btn { padding:10px 18px; background:#1ea85e; color:#fff; border-radius:8px; border:none; cursor:pointer; font-weight:600; }
  </style>
</head>
<body>
  <main class="product-page">

    <!-- HEADER: back (kiri) + logo (tengah screen) -->
    <header class="header">
      <a href="#" class="back-link">‚Üê Back</a>
      <img src="logos/lg3.png" alt="Luxfleurid" class="brand-logo" />
    </header>

    <!-- PRODUCT INFO (TENGAH, MEPET) -->
    <section class="product-info">
      <h1 class="product-name">Matcha Latte ‚Äî MORI üçµ</h1>
      <p class="product-subtitle">Discover the pure taste of MORI, made with ceremonial grade matcha powder, delivering a smooth umami with seaweed notes and light bitterness.</p>
      <p class="product-price" id="product-price">Rp 28.000</p>
    </section>

    <!-- GAMBAR PRODUK (DI BAWAH INFO) -->
    <section class="product-media">
      <img src="Drs/dk1.png" alt="Matcha Latte" class="product-image" />
    </section>

    <!-- OPTIONS (Milk / Sugar / Addons) -->
    <section id="product-options">
      <!-- Milk options -->
      <div class="option-group" role="group" aria-label="Milk Options" data-key="milk">
        <div class="group-title">Milk Options</div>
        <div class="choices">
          <button type="button" class="opt-btn" data-value="fresh" aria-pressed="true">Fresh Milk</button>
          <button type="button" class="opt-btn" data-value="oat" data-price-delta="3000" aria-pressed="false">Oat Milk (+3K)</button>
        </div>
        <div class="small-note">If no note is added, your drink will be made with Fresh Milk by default.</div>
      </div>

      <!-- Sugar options -->
      <div class="option-group" role="group" aria-label="Sugar Level" data-key="sugar">
        <div class="group-title">Sugar Level</div>
        <div class="choices">
          <button type="button" class="opt-btn" data-value="0" aria-pressed="false">0%</button>
          <button type="button" class="opt-btn" data-value="50" aria-pressed="false">50%</button>
          <button type="button" class="opt-btn" data-value="100" aria-pressed="true">100%</button>
          <button type="button" class="opt-btn" data-value="125" aria-pressed="false">125%</button>
        </div>
      </div>

      <!-- Add-ons -->
      <div class="option-group" role="group" aria-label="Add Ons" data-key="addons">
        <div class="group-title">Add-Ons</div>
        <div class="choices">
          <button type="button" class="addon-btn" data-id="yuki" data-price="15000" aria-pressed="false">Powder Upgrade: YUKI (+15K)</button>
          <button type="button" class="addon-btn" data-id="thermal_bag" data-price="10000" aria-pressed="false">Thermal Bag (+10K)</button>
        </div>
        <div class="small-note">Thermal Bag: Keep your drink cold and ice intact (available for deliveries within 3 km only).</div>
      </div>
    </section>

    <!-- ACTIONS: Add to Bag in center, heart in right -->
    <section class="product-actions">
      <button class="add-btn" id="add-to-cart" type="button">Add to Bag</button>

      <div class="right-icons">
        <!-- share (optional small) -->
        <button class="icon-btn" aria-label="Share product" title="Share">
          <img src="icon-share.png" alt="" width="20" height="20" />
        </button>

        <!-- HEART SVG INTERACTIVE -->
        <button class="heart" aria-pressed="false" aria-label="Like product" title="Like">
          <svg viewBox="0 0 24 24" class="heart-icon" aria-hidden="true" focusable="false" width="20" height="20">
            <path class="heart-path" d="M12.1 21.35l-1.1-1.02C5.14 15.24 2 12.44 2 8.9 2 6.24 4.24 4 6.9 4c1.94 0 3.6 1.12 4.2 2.72C11.5 5.12 13.16 4 15.1 4 17.76 4 20 6.24 20 8.9c0 3.54-3.14 6.35-8.99 11.43l-1.0 1.02z" />
          </svg>
        </button>
      </div>
    </section>

    <!-- DETAIL (keep below) -->
    <section class="details">
      <h2>Product Details</h2>
      <p id="detail-desc"><strong>Description:</strong> Indulge in the comforting warmth of Hojicha Latte, made with finely roasted green tea leaves for a nutty and deeply roasted flavor, low in bitterness with a naturally sweet, aromatic, and earthy finish. A smooth and cozy drink perfect for any time of day.</p>

      <h3>Tips</h3>
      <ul id="tips-list">
        <li>Serve chilled for best taste.</li>
        <li>Consume within 4 hours for optimal freshness.</li>
      </ul>
    </section>

  </main>

  <!-- CONTACT SECTION -->
  <section class="contact-section">
    <h2>Got a question about this product?</h2>
    <p>Our team will be happy to<br>assist you via WhatsApp</p>
    <span class="contact-subtext">Click below to connect instantly.</span>

    <a href="https://wa.me/6281234567890" target="_blank" class="whatsapp-btn" aria-label="Contact via WhatsApp">
      <img src="icons/whatsapp.png" alt="WhatsApp" class="wa-icon" />
    </a>
  </section>

  <script>
  // Utility: parse price like "Rp 28.000" -> 28000
  function parsePrice(s){
    if (!s) return 0;
    const digits = String(s).replace(/[^0-9]/g, '');
    return digits ? parseInt(digits,10) : 0;
  }
  function formatPrice(n){
    return 'Rp ' + n.toString().replace(/\B(?=(\d{3})+(?!\\d))/g, ".");
  }

  document.addEventListener('DOMContentLoaded', () => {
    // base price (read from DOM initial text)
    const priceEl = document.getElementById('product-price');
    const base = parsePrice(priceEl.textContent || priceEl.innerText || '0');
    let currentTotal = base;

    // initialize option/button behavior
    function initOptionButtons() {
      document.querySelectorAll('.option-group').forEach(group => {
        const key = group.dataset.key;
        const isAddon = key === 'addons';
        const buttons = group.querySelectorAll('button');
        buttons.forEach(btn => {
          btn.addEventListener('click', (e) => {
            if (isAddon) {
              const pressed = btn.getAttribute('aria-pressed') === 'true';
              btn.setAttribute('aria-pressed', (!pressed).toString());
            } else {
              // single-select: unset siblings, set this
              buttons.forEach(b => b.setAttribute('aria-pressed','false'));
              btn.setAttribute('aria-pressed','true');
            }
            updatePriceFromUI();
          });
          btn.addEventListener('keydown', (ev) => {
            if (ev.key === ' ' || ev.key === 'Enter') { ev.preventDefault(); btn.click(); }
          });
        });
      });
    }

    function updatePriceFromUI(){
      let total = base;
      // milk choices (check for data-price-delta)
      const milkSelected = document.querySelector('.option-group[data-key="milk"] button[aria-pressed="true"]');
      if (milkSelected && milkSelected.dataset.priceDelta) {
        total += parseInt(milkSelected.dataset.priceDelta,10) || 0;
      }
      // addons
      document.querySelectorAll('.option-group[data-key="addons"] button[aria-pressed="true"]').forEach(b => {
        if (b.dataset.price) total += parseInt(b.dataset.price,10) || 0;
      });
      currentTotal = total;
      priceEl.textContent = formatPrice(total);
    }

    // return selected options object
    function getSelectedOptions(){
      const out = {};
      document.querySelectorAll('.option-group').forEach(g => {
        const key = g.dataset.key;
        if (key === 'addons') {
          out[key] = Array.from(g.querySelectorAll('button[aria-pressed="true"]')).map(b=>b.dataset.id);
        } else {
          const sel = g.querySelector('button[aria-pressed="true"]');
          out[key] = sel ? sel.dataset.value : null;
        }
      });
      out.notes = document.getElementById('notes') ? document.getElementById('notes').value.trim() : '';
      return out;
    }

    // add to cart (localStorage simple)
    const CART_KEY = 'verent_cart_v1';
    function getCart(){ try { return JSON.parse(localStorage.getItem(CART_KEY) || '[]'); } catch(e) { return []; } }
    function saveCart(c){ localStorage.setItem(CART_KEY, JSON.stringify(c)); }

    document.getElementById('add-to-cart').addEventListener('click', ()=>{
      const selected = getSelectedOptions();
      const item = {
        id: 'drink-hojicha-001',
        title: document.querySelector('.product-name').textContent.trim(),
        price_base: base,
        total: currentTotal,
        selected
      };
      const cart = getCart();
      cart.push(item);
      saveCart(cart);
      alert('Added to bag ‚Äî total items: ' + cart.length);
    });

    // init buttons on load
    initOptionButtons();
    updatePriceFromUI();

    // heart button behavior
    const heartBtn = document.querySelector('.heart');
    heartBtn.addEventListener('click', () => {
      const active = heartBtn.classList.toggle('active');
      heartBtn.setAttribute('aria-pressed', active ? 'true' : 'false');
    });
  });
  </script>
</body>
</html>
