// @ts-nocheck
!function(){"use strict";function t(t){return t=Number(t)||0,"Rp "+new Intl.NumberFormat("id-ID").format(t)}function e(t){return Number(String(t).replace(/[^\d-]/g,""))||0}document.addEventListener("DOMContentLoaded",(function(){const r=document.getElementById("product-price"),n=document.getElementById("old-price");if(!r)return void console.error("item.js: #product-price element not found");const o=e(r.getAttribute("data-base")||r.dataset.base||r.textContent),a=n?e(n.getAttribute("data-old")||n.dataset.old||n.textContent):0;r.textContent=t(o),n&&(a>0&&a!==o?(n.textContent=t(a),n.style.display=""):n.style.display="none");let d=o;function c(){let n=o;const a=document.querySelector('.option-group[data-key="milk"] button[aria-pressed="true"]');a&&(n+=e(a.dataset.priceDelta||0)),document.querySelectorAll('.option-group[data-key="addons"] button[aria-pressed="true"]').forEach((t=>{n+=e(t.dataset.price||0)})),d=n,r.textContent=t(n)}const u="verent_cart_v1";const s=document.getElementById("add-to-cart");s&&s.addEventListener("click",(()=>{const t=function(){const t={};return document.querySelectorAll(".option-group").forEach((e=>{const r=e.dataset.key;if("addons"===r)t[r]=Array.from(e.querySelectorAll('button[aria-pressed="true"]')).map((t=>t.dataset.id));else{const n=e.querySelector('button[aria-pressed="true"]');t[r]=n?n.dataset.value:null}})),t.notes=document.getElementById("notes")?document.getElementById("notes").value.trim():"",t}(),e={id:document.querySelector(".product-name")&&document.querySelector(".product-name").dataset.id||"unknown",title:document.querySelector(".product-name")?document.querySelector(".product-name").textContent.trim():"Product",price_base:o,total:d,selected:t,old_price:a||null},r=function(){try{return JSON.parse(localStorage.getItem(u)||"[]")}catch(t){return[]}}();var n;r.push(e),n=r,localStorage.setItem(u,JSON.stringify(n)),s.textContent="Added âœ“",setTimeout((()=>s.textContent="Add to Bag"),900)})),document.querySelectorAll(".option-group").forEach((t=>{const e="addons"===t.dataset.key,r=Array.from(t.querySelectorAll("button"));r.forEach((t=>{t.hasAttribute("data-price-delta")&&!t.dataset.priceDelta&&(t.dataset.priceDelta=t.getAttribute("data-price-delta")),t.hasAttribute("data-price")&&!t.dataset.price&&(t.dataset.price=t.getAttribute("data-price")),t.addEventListener("click",(n=>{if(e){const e="true"===t.getAttribute("aria-pressed");t.setAttribute("aria-pressed",(!e).toString())}else r.forEach((t=>t.setAttribute("aria-pressed","false"))),t.setAttribute("aria-pressed","true");c()})),t.addEventListener("keydown",(e=>{" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||(e.preventDefault(),t.click())}))}))})),c();const i=document.querySelector(".heart");i&&i.addEventListener("click",(()=>{const t=i.classList.toggle("active");i.setAttribute("aria-pressed",t?"true":"false")}))}))}();